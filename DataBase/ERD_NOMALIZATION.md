ERD와 정규화
=
- ERD
  - ERD(Entity Relationship Diagram)는 데이터베이스를 구축할 때 가장 기초적인 뼈대 역할을 하며, 릴레이션 간의 관계를 정의하는 것입니다.
  - ERD의 중요성
    - ERD는 시스템의 요구 사항을 기반으로 작성되며 이 ERD를 기반으로 데이터베이스를 구축합니다. 데이터베이스를 구축한 이후에도 디버깅 또는 비즈니스 프로세스 재설계가 필요할 때 설계도 역할을 담당합니다.
    - 관계형 구조를 표현하는데 유용하지만 비정형 데이터를 충분히 표현하지 못한다는 단점이 있습니다.
###### 비정형 데이터 : 비구조화 데이터를 말하며, 미리 정의된 데이터 모델이 없거나 미리 정의된 방식으로 정리되지 않는 정보를 말한다.
- 정규화
  - 정규화 과정
    - 정규화 과정은 릴레이션 간의 잘못된 종속 관계로 인해 데이터베이스 이상 현상이 일어나 이를 해결하거나 공간을 효율적으로 사용하기 위해 릴레이션을 여러 개로 분리하는 과정입니다.
    - 이상 현상
      - 이상현상은 삽입이상, 삭제이상, 수정이상이 있다.
    - 정규화 과정은 정규형 원칙을 기반으로 정규형을 만들어가는 과정이며, 정규화된 정도는 정규형(NF, Normal Form)으로 표현합니다.
    - 기본 정규형은 제 1 정규형, 제 2 정규형, 제 3 정규형, 보이스/코드 정규형이 있습니다.
    - 고급 정규형은 제 4 정규형, 제 5 정규형이 있습니다.
  - 정규형 원칙
    - 정규형의 원칙은 같은 의미를 표현하는 릴레이션을 조금 더 좋은 구조로 만들고, 자료의 중복성을 줄이며 독립적인 관계는 별개의 릴레이션으로 표현해 각각의 릴레이션은 독립적인 표현이 가능한 상태를 말합니다.
    - 제 1 정규형
      - 릴레이션의 모든 도메인이 더 이상 분해될 수 없는 원자 값(atomic value)만으로 구성되어야 합니다.
      - 릴레이션의 속성 값 중에서 한 개의 기본키에 대해 두 개 이상의 값을 가지는 반복 집합이 있으면 안됩니다.
    - 제 2 정규형
      - 릴레이션이 제 1 정규형이고 부분 함수의 종속성을 제거한 형태를 말합니다.
      - 부분 함수의 종속성 제거란 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속적인 것을 말합니다.
      - 릴레이션을 분해할 때는 동등한 릴레이션으로 분해해야 하고 정보 손실이 발생하지 않는 무손실 분해가 되어야 합니다.
    - 제 3 정규형
      - 제 2 정규형을 만족하고 기본키가 아닌 모든 속성이 이행적 함수 종속(transitive FD)을 만족하지 않는 상태를 말합니다.
      - 이행적 함수 종속
        - 이행적 함수 종속은 A->B와 B->C가 존재 한다면 A->C가 성립하는데, 이 떄 집합 C가 집합 A에 이행적으로 함수 종속 되었다고 합니다.
    - 보이스/코드 정규형
      - 보이스/코드 정규형(BCNF)은 제 3 정규형을 만족하며 결정자가 후보키가 아닌 함수 종속 관계를 제거하여 릴레이션의 함수 종속 관계에서 모든 결정자가 후보키인 상태를 말합니다.
  - 정규형을 한다고 꼭 성능이 좋아지는 것은 아닙니다. 테이블을 나누게 되면 어떠한 경우에는 조인을 해야하기 때문에 오히려 느려질 수도 있습니다.
  - 그렇게 때문에 상황에 따라 정규화, 비정규화를 진행해야 합니다.
###### 결정자 : 함수 종속 관계에서 특정 종속자(dependent)를 결정 짓는 요소, X->Y일 때 X는 결정자 Y는 종속자.