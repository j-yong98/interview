메모리
=
- 메모리 계층
  - 메모리 계층은 레지스터, 캐시, 메모리, 저장장치로 구성되어 있습니다.
  ~~~
  - 레지스터 : CPU 안에 있는 작은 메모리, 휘발성, 속도 가장 빠름, 기억 용량 가장 적음
  - 캐시 : L1, L2 캐시를 칭합니다. 휘발성, 속도 빠름, 기억 용량이 적습니다.
  - 주기억장치 : RAM을 가르킵니다. 휘발성, 속도 보통, 기억 용량 보통입니다.
  - 보조기억장치 : HDD, SDD를 가르키며 비휘발성, 속도 낮음, 기억 용량이 많습니다.
  - 램(RAM)은 하드디스크로부터 일정량의 데이터를 복사해서 임시 저장하고 이를 필요 시미다 CPU에 빠르게 전달하는 역할을 합니다.
  - 계층이 위로 올라갈수록 가격이 비싸지는데 이는 용량은 작아지고 속도는 빨라지는 특징이 있습니다.
  - 이러한 계층이 있는 이유는 경제성과 캐시 때문입니다.
  ~~~
  - 캐시
    - 캐시(cache)는 데이터를 미리 복사해 놓는 임시 저장소이자 빠른 장치와 느린 장치에서 속도 차이에 따른 병목 현상을 줄이기 위한 메모리를 말합니다.
    - 이를 통해 데이터를 접근하는 시간이 오래 걸리는 경우를 해결하고 무언가를 다시 계산하는 시간을 절약할 수 있습니다.
    ~~~
    - 지역성의 원리
      - 캐시를 설정할 때는 자주 사용하는 데이터 위주로 설정해야 합니다.
      - 지역성은 시간 지역성과 공간 지역성이 있습니다.
      - 시간 지역성
        - 최근 사용한 데이터에 다시 접근하려는 특성을 말합니다.
      - 공간 지역성
        - 공간 지역성은 최근 접근한 데이터를 이루고 있는 공간이나 그 가까운 공간에 접근하는 특성을 말합니다.
    ~~~
    - 캐시히트와 캐시미스
      - 캐시에서 원하는 데이터를 찾으면 캐시히트, 해당 데이터가 없어 주메모리에서 데이터를 찾아오는 것을 캐시미스라고 합니다.
      - 캐시히트의 경우 위치도 가깝고 CPU 내부 버스를 기반으로 가져오기 때문에 빠르지만 캐시미스가 발생하게 되면 시스템 버스를 통해 메모리에서 가져오기 때문에 느립니다.
    - 캐시매핑
      - 캐시매핑이란 캐시가 히트되기 위해 매핑하는 방법을 말합니다.
      - 캐시매핑 분류
        - 직접 매핑 : 메모리가 1~100이 있고 캐시가 1~10까지 있다면 1:1~10, 2:1~20, 3:1~30 이런식으로 매핑하는 것을 말합니다. 처리가 빠르지만 충돌 발생이 잦다.
        - 연관 매핑 : 순서를 일치시키지 않고 관련 있는 캐시와 메모리를 매핑합니다. 충돌은 적지만 모든 블록을 탐색해야 해서 속도가 느립니다.
        - 집합 연관 매핑 : 직접 매핑과 연관 매핑을 합쳐 놓은 것입니다. 순서는 일치시키지만 집합을 둬서 저장하며 블록화되어 있기 때문에 검색은 좀 더 효율적입니다.
    ~~~
    - 웹 브라우저의 쿠키
      - 소프트웨어적인 대표적인 캐시로는 웹 브라우저의 작은 저장소 쿠키, 로컬 스토리지, 세션 스토리지가 있습니다.
      - 대부분 사용자의 커스텀한 정보나 인증 모듈 관련사항들을 웹 브라우저에 저장해서 추후 서버에 요청할 때 자신을 나타내는 아이덴티티나 중복 요청 방지를 위해 쓰입니다.
      - 쿠키
        - 만료기한이 있는 키-값 저장소입니다.
        - 4KB까지 데이터를 저장할 수 있고 만료기한을 정할 수 있습니다. 쿠키를 설정할 때 document.cookie로 쿠키를 볼 수 없게 httponly 옵션을 거는 것이 중요합니다.
      - 로컬 스토리지
        - 로컬 스토리지는 만료기한이 없는 키-값 저장소입니다.
        - 10MB까지 데이터를 저장할 수 있으며 브라우저를 닫아도 유지되고 도메인 단위로 저장, 생성됩니다.
      - 세션 스토리지
        - 세션 스토리지는 만료기한이 없는 키-값 저장소입니다.
        - 탭 단위로 세션 스토리지를 생성하며, 탭을 닫을 때 해당 데이터가 삭제됩니다.
        - 5MB까지 저장이 가능하다.
    - 데이터베이스의 캐시 계층
      - 데이터베이스 시스템을 구축할 때도 메인 데이터베이스 위에 레디스 데이터베이스 계층을 둬서 성능을 향상시키기도 합니다.
    ~~~